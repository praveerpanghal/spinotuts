function uiUploader(e){"use strict";function t(e){for(var t=0;t<e.length;t++)l.files.push(e[t])}function n(){return l.files}function i(e){l.options=e;for(var t=0;t<l.files.length&&l.activeUploads!=l.options.concurrency;t++)l.files[t].active||a(l.files[t],l.options.url)}function r(e){l.files.splice(l.files.indexOf(e),1)}function o(){l.files.splice(0,l.files.length)}function u(e){var t=["n/a","bytes","KiB","MiB","GiB","TB","PB","EiB","ZiB","YiB"],n=+Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,n)).toFixed(n?1:0)+" "+t[isNaN(e)?0:n+1]}function a(e,t){var n,r,o,a="",s="file";if(l.activeUploads+=1,e.active=!0,n=new window.XMLHttpRequest,r=new window.FormData,n.open("POST",t),n.upload.onloadstart=function(){},n.upload.onprogress=function(t){t.lengthComputable&&(e.loaded=t.loaded,e.humanSize=u(t.loaded),l.options.onProgress(e))},n.onload=function(){l.activeUploads-=1,i(l.options),l.options.onCompleted(e,n.responseText)},n.onerror=function(){},a)for(o in a)a.hasOwnProperty(o)&&r.append(o,a[o]);return r.append(s,e,e.name),n.send(r),n}var l=this;return l.files=[],l.options={},l.activeUploads=0,e.info("uiUploader loaded"),{addFiles:t,getFiles:n,files:l.files,startUpload:i,removeFile:r,removeAll:o}}angular.module("ui.alias",[]).config(["$compileProvider","uiAliasConfig",function(e,t){"use strict";t=t||{},angular.forEach(t,function(t,n){angular.isString(t)&&(t={replace:!0,template:t}),e.directive(n,function(){return t})})}]),angular.module("ui.event",[]).directive("uiEvent",["$parse",function(e){"use strict";return function(t,n,i){var r=t.$eval(i.uiEvent);angular.forEach(r,function(i,r){var o=e(i);n.bind(r,function(e){var n=Array.prototype.slice.call(arguments);n=n.splice(1),o(t,{$event:e,$params:n}),t.$$phase||t.$apply()})})}}]),angular.module("ui.format",[]).filter("format",function(){"use strict";return function(e,t){var n=e;if(angular.isString(n)&&void 0!==t)if(angular.isArray(t)||angular.isObject(t)||(t=[t]),angular.isArray(t)){var i=t.length,r=function(e,n){return n=parseInt(n,10),n>=0&&n<i?t[n]:e};n=n.replace(/\$([0-9]+)/g,r)}else angular.forEach(t,function(e,t){n=n.split(":"+t).join(e)});return n}}),angular.module("ui.highlight",[]).filter("highlight",function(){"use strict";return function(e,t,n){return e&&(t||angular.isNumber(t))?(e=e.toString(),t=t.toString(),n?e.split(t).join('<span class="ui-match">'+t+"</span>"):e.replace(new RegExp(t,"gi"),'<span class="ui-match">$&</span>')):e}}),angular.module("ui.include",[]).directive("uiInclude",["$http","$templateCache","$anchorScroll","$compile",function(e,t,n,i){"use strict";return{restrict:"ECA",terminal:!0,compile:function(r,o){var u=o.uiInclude||o.src,a=o.fragment||"",l=o.onload||"",s=o.autoscroll;return function(r,o){function c(){var c=++d,g=r.$eval(u),h=r.$eval(a);g?e.get(g,{cache:t}).success(function(e){if(c===d){f&&f.$destroy(),f=r.$new();var t;t=h?angular.element("<div/>").html(e).find(h):angular.element("<div/>").html(e).contents(),o.html(t),i(t)(f),!angular.isDefined(s)||s&&!r.$eval(s)||n(),f.$emit("$includeContentLoaded"),r.$eval(l)}}).error(function(){c===d&&p()}):p()}var f,d=0,p=function(){f&&(f.$destroy(),f=null),o.html("")};r.$watch(a,c),r.$watch(u,c)}}}}]),angular.module("ui.indeterminate",[]).directive("uiIndeterminate",[function(){"use strict";return{compile:function(e,t){return t.type&&"checkbox"===t.type.toLowerCase()?function(e,t,n){e.$watch(n.uiIndeterminate,function(e){t[0].indeterminate=!!e})}:angular.noop}}}]),angular.module("ui.inflector",[]).filter("inflector",function(){"use strict";function e(e){return e=e.replace(/([A-Z])|([\-|\_])/g,function(e,t){return" "+(t||"")}),e.replace(/\s\s+/g," ").trim().toLowerCase().split(" ")}function t(e){var t=[];return angular.forEach(e,function(e){t.push(e.charAt(0).toUpperCase()+e.substr(1))}),t}var n={humanize:function(n){return t(e(n)).join(" ")},underscore:function(t){return e(t).join("_")},variable:function(n){return n=e(n),n=n[0]+t(n.slice(1)).join("")}};return function(e,t){return t!==!1&&angular.isString(e)?(t=t||"humanize",n[t](e)):e}}),angular.module("ui.jq",[]).value("uiJqConfig",{}).directive("uiJq",["uiJqConfig","$timeout",function(e,t){"use strict";return{restrict:"A",compile:function(n,i){if(!angular.isFunction(n[i.uiJq]))throw new Error('ui-jq: The "'+i.uiJq+'" function does not exist');var r=e&&e[i.uiJq];return function(e,n,i){function o(){var t=[];return i.uiOptions?(t=e.$eval("["+i.uiOptions+"]"),angular.isObject(r)&&angular.isObject(t[0])&&(t[0]=angular.extend({},r,t[0]))):r&&(t=[r]),t}function u(){t(function(){n[i.uiJq].apply(n,o())},0,!1)}i.ngModel&&n.is("select,input,textarea")&&n.bind("change",function(){n.trigger("input")}),i.uiRefresh&&e.$watch(i.uiRefresh,function(){u()}),u()}}}}]),angular.module("ui.keypress",[]).factory("keypressHelper",["$parse",function(e){"use strict";var t={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},n=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};return function(i,r,o,u){var a,l=[];a=r.$eval(u["ui"+n(i)]),angular.forEach(a,function(t,n){var i,r;r=e(t),angular.forEach(n.split(" "),function(e){i={expression:r,keys:{}},angular.forEach(e.split("-"),function(e){i.keys[e]=!0}),l.push(i)})}),o.bind(i,function(e){var n=!(!e.metaKey||e.ctrlKey),o=!!e.altKey,u=!!e.ctrlKey,a=!!e.shiftKey,s=e.keyCode;"keypress"===i&&!a&&s>=97&&s<=122&&(s-=32),angular.forEach(l,function(i){var l=i.keys[t[s]]||i.keys[s.toString()],c=!!i.keys.meta,f=!!i.keys.alt,d=!!i.keys.ctrl,p=!!i.keys.shift;l&&c===n&&f===o&&d===u&&p===a&&r.$apply(function(){i.expression(r,{$event:e})})})})}}]),angular.module("ui.keypress").directive("uiKeydown",["keypressHelper",function(e){"use strict";return{link:function(t,n,i){e("keydown",t,n,i)}}}]),angular.module("ui.keypress").directive("uiKeypress",["keypressHelper",function(e){"use strict";return{link:function(t,n,i){e("keypress",t,n,i)}}}]),angular.module("ui.keypress").directive("uiKeyup",["keypressHelper",function(e){"use strict";return{link:function(t,n,i){e("keyup",t,n,i)}}}]),angular.module("ui.mask",[]).value("uiMaskConfig",{maskDefinitions:{9:/\d/,A:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/},clearOnBlur:!0}).directive("uiMask",["uiMaskConfig","$parse",function(e,t){"use strict";return{priority:100,require:"ngModel",restrict:"A",compile:function(){var n=e;return function(e,i,r,o){function u(e){return angular.isDefined(e)?(b(e),U?(f(),d(),!0):c()):c()}function a(e){angular.isDefined(e)&&(T=e,U&&k())}function l(e){return U?(A=h(e||""),j=g(A),o.$setValidity("mask",j),j&&A.length?m(A):void 0):e}function s(e){return U?(A=h(e||""),j=g(A),o.$viewValue=A.length?m(A):"",o.$setValidity("mask",j),""===A&&r.required&&o.$setValidity("required",!o.$error.required),j?A:void 0):e}function c(){return U=!1,p(),angular.isDefined(_)?i.attr("placeholder",_):i.removeAttr("placeholder"),angular.isDefined(z)?i.attr("maxlength",z):i.removeAttr("maxlength"),i.val(o.$modelValue),o.$viewValue=o.$modelValue,!1}function f(){A=D=h(o.$viewValue||""),P=q=m(A),j=g(A);var e=j&&A.length?P:"";r.maxlength&&i.attr("maxlength",2*O[O.length-1]),i.attr("placeholder",T),i.val(e),o.$viewValue=e}function d(){B||(i.bind("blur",y),i.bind("mousedown mouseup",w),i.bind("input keyup click focus",k),B=!0)}function p(){B&&(i.unbind("blur",y),i.unbind("mousedown",w),i.unbind("mouseup",w),i.unbind("input",k),i.unbind("keyup",k),i.unbind("click",k),i.unbind("focus",k),B=!1)}function g(e){return!e.length||e.length>=R}function h(e){var t="",n=C.slice();return e=e.toString(),angular.forEach(M,function(t){e=e.replace(t,"")}),angular.forEach(e.split(""),function(e){n.length&&n[0].test(e)&&(t+=e,n.shift())}),t}function m(e){var t="",n=O.slice();return angular.forEach(T.split(""),function(i,r){e.length&&r===n[0]?(t+=e.charAt(0)||"_",e=e.substr(1),n.shift()):t+=i}),t}function v(e){var t=r.placeholder;return"undefined"!=typeof t&&t[e]?t[e]:"_"}function $(){return T.replace(/[_]+/g,"_").replace(/([^_]+)([a-zA-Z0-9])([^_])/g,"$1$2_$3").split("_")}function b(e){var t=0;if(O=[],C=[],T="","string"==typeof e){R=0;var n=!1,i=0,r=e.split("");angular.forEach(r,function(e,r){K.maskDefinitions[e]?(O.push(t),T+=v(r-i),C.push(K.maskDefinitions[e]),t++,n||R++):"?"===e?(n=!0,i++):(T+=e,t++)})}O.push(O.slice().pop()+1),M=$(),U=O.length>1}function y(){K.clearOnBlur&&(L=0,F=0,j&&0!==A.length||(P="",i.val(""),e.$apply(function(){o.$setViewValue("")})))}function w(e){"mousedown"===e.type?i.bind("mouseout",x):i.unbind("mouseout",x)}function x(){F=H(this),i.unbind("mouseout",x)}function k(t){t=t||{};var n=t.which,r=t.type;if(16!==n&&91!==n){var u,a=i.val(),l=q,s=h(a),c=D,f=!1,d=E(this)||0,p=L||0,g=d-p,v=O[0],$=O[s.length]||O.slice().shift(),b=F||0,y=H(this)>0,w=b>0,x=a.length>l.length||b&&a.length>l.length-b,k=a.length<l.length||b&&a.length===l.length-b,C=n>=37&&n<=40&&t.shiftKey,T=37===n,M=8===n||"keyup"!==r&&k&&g===-1,R=46===n||"keyup"!==r&&k&&0===g&&!w,A=(T||M||"click"===r)&&d>v;if(F=H(this),!C&&(!y||"click"!==r&&"keyup"!==r)){if("input"===r&&k&&!w&&s===c){for(;M&&d>v&&!S(d);)d--;for(;R&&d<$&&O.indexOf(d)===-1;)d++;var P=O.indexOf(d);s=s.substring(0,P)+s.substring(P+1),f=!0}for(u=m(s),q=u,D=s,i.val(u),f&&e.$apply(function(){o.$setViewValue(s)}),x&&d<=v&&(d=v+1),A&&d--,d=d>$?$:d<v?v:d;!S(d)&&d>v&&d<$;)d+=A?-1:1;(A&&d<$||x&&!S(p))&&d++,L=d,V(this,d)}}}function S(e){return O.indexOf(e)>-1}function E(e){if(!e)return 0;if(void 0!==e.selectionStart)return e.selectionStart;if(document.selection){e.focus();var t=document.selection.createRange();return t.moveStart("character",e.value?-e.value.length:0),t.text.length}return 0}function V(e,t){if(!e)return 0;if(0!==e.offsetWidth&&0!==e.offsetHeight)if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}}function H(e){return e?void 0!==e.selectionStart?e.selectionEnd-e.selectionStart:document.selection?document.selection.createRange().text.length:0:0}var O,C,T,M,R,A,P,j,q,D,L,F,U=!1,B=!1,_=r.placeholder,z=r.maxlength,K={};r.uiOptions?(K=e.$eval("["+r.uiOptions+"]"),angular.isObject(K[0])&&(K=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(void 0===t[n]?t[n]=angular.copy(e[n]):angular.extend(t[n],e[n]));return t}(n,K[0]))):K=n,r.$observe("uiMask",u),r.$observe("placeholder",a);var W=!1;r.$observe("modelViewValue",function(e){"true"===e&&(W=!0)}),e.$watch(r.ngModel,function(n){if(W&&n){var i=t(r.ngModel);i.assign(e,o.$viewValue)}}),o.$formatters.push(l),o.$parsers.push(s),i.bind("mousedown mouseup",w),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var i=0;if(arguments.length>1&&(i=Number(arguments[1]),i!==i?i=0:0!==i&&i!==1/0&&i!==-(1/0)&&(i=(i>0||-1)*Math.floor(Math.abs(i)))),i>=n)return-1;for(var r=i>=0?i:Math.max(n-Math.abs(i),0);r<n;r++)if(r in t&&t[r]===e)return r;return-1})}}}}]),angular.module("ui.reset",[]).value("uiResetConfig",null).directive("uiReset",["uiResetConfig",function(e){"use strict";var t=null;return void 0!==e&&(t=e),{require:"ngModel",link:function(e,n,i,r){var o;o=angular.element('<a class="ui-reset" />'),n.wrap('<span class="ui-resetwrap" />').after(o),o.bind("click",function(n){n.preventDefault(),e.$apply(function(){i.uiReset?r.$setViewValue(e.$eval(i.uiReset)):r.$setViewValue(t),r.$render()})})}}}]),angular.module("ui.route",[]).directive("uiRoute",["$location","$parse",function(e,t){"use strict";return{restrict:"AC",scope:!0,compile:function(n,i){var r;if(i.uiRoute)r="uiRoute";else if(i.ngHref)r="ngHref";else{if(!i.href)throw new Error("uiRoute missing a route or href property on "+n[0]);r="href"}return function(n,i,o){function u(t){var i=t.indexOf("#");i>-1&&(t=t.substr(i+1)),(s=function(){l(n,e.path().indexOf(t)>-1)})()}function a(t){var i=t.indexOf("#");i>-1&&(t=t.substr(i+1)),(s=function(){var i=new RegExp("^"+t+"$",["i"]);l(n,i.test(e.path()))})()}var l=t(o.ngModel||o.routeModel||"$uiRoute").assign,s=angular.noop;switch(r){case"uiRoute":o.uiRoute?a(o.uiRoute):o.$observe("uiRoute",a);break;case"ngHref":o.ngHref?u(o.ngHref):o.$observe("ngHref",u);break;case"href":u(o.href)}n.$on("$routeChangeSuccess",function(){s()}),n.$on("$stateChangeSuccess",function(){s()})}}}}]),angular.module("ui.scroll.jqlite",["ui.scroll"]).service("jqLiteExtras",["$log","$window",function(e,t){"use strict";return{registerFor:function(e){var n,i,r,o,u,a,l;return i=angular.element.prototype.css,e.prototype.css=function(e,t){var n,r;if(r=this,n=r[0],n&&3!==n.nodeType&&8!==n.nodeType&&n.style)return i.call(r,e,t)},a=function(e){return e&&e.document&&e.location&&e.alert&&e.setInterval},l=function(e,t,n){var i,r,o,u,l;return i=e[0],l={top:["scrollTop","pageYOffset","scrollLeft"],left:["scrollLeft","pageXOffset","scrollTop"]}[t],r=l[0],u=l[1],o=l[2],a(i)?angular.isDefined(n)?i.scrollTo(e[o].call(e),n):u in i?i[u]:i.document.documentElement[r]:angular.isDefined(n)?i[r]=n:i[r]},t.getComputedStyle?(o=function(e){return t.getComputedStyle(e,null)},n=function(e,t){return parseFloat(t)}):(o=function(e){return e.currentStyle},n=function(e,t){var n,i,r,o,u,a,l;return n=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,o=new RegExp("^("+n+")(?!px)[a-z%]+$","i"),o.test(t)?(l=e.style,i=l.left,u=e.runtimeStyle,a=u&&u.left,u&&(u.left=l.left),l.left=t,r=l.pixelLeft,l.left=i,a&&(u.left=a),r):parseFloat(t)}),r=function(e,t){var i,r,u,l,s,c,f,d,p,g,h,m,v;return a(e)?(i=document.documentElement[{height:"clientHeight",width:"clientWidth"}[t]],{base:i,padding:0,border:0,margin:0}):(v={width:[e.offsetWidth,"Left","Right"],height:[e.offsetHeight,"Top","Bottom"]}[t],i=v[0],f=v[1],d=v[2],c=o(e),h=n(e,c["padding"+f])||0,m=n(e,c["padding"+d])||0,r=n(e,c["border"+f+"Width"])||0,u=n(e,c["border"+d+"Width"])||0,l=c["margin"+f],s=c["margin"+d],p=n(e,l)||0,g=n(e,s)||0,{base:i,padding:h+m,border:r+u,margin:p+g})},u=function(e,t,n){var i,u,a;return u=r(e,t),u.base>0?{base:u.base-u.padding-u.border,outer:u.base,outerfull:u.base+u.margin}[n]:(i=o(e),a=i[t],(a<0||null===a)&&(a=e.style[t]||0),a=parseFloat(a)||0,{base:a-u.padding-u.border,outer:a,outerfull:a+u.padding+u.border+u.margin}[n])},angular.forEach({before:function(e){var t,n,i,r,o,u,a;if(o=this,n=o[0],r=o.parent(),t=r.contents(),t[0]===n)return r.prepend(e);for(i=u=1,a=t.length-1;1<=a?u<=a:u>=a;i=1<=a?++u:--u)if(t[i]===n)return void angular.element(t[i-1]).after(e);throw new Error("invalid DOM structure "+n.outerHTML)},height:function(e){var t;return t=this,angular.isDefined(e)?(angular.isNumber(e)&&(e+="px"),i.call(t,"height",e)):u(this[0],"height","base")},outerHeight:function(e){return u(this[0],"height",e?"outerfull":"outer")},offset:function(e){var t,n,i,r,o,u;if(o=this,arguments.length){if(void 0===e)return o;throw new Error("offset setter method is not implemented")}if(t={top:0,left:0},r=o[0],n=r&&r.ownerDocument)return i=n.documentElement,null!=r.getBoundingClientRect&&(t=r.getBoundingClientRect()),u=n.defaultView||n.parentWindow,{top:t.top+(u.pageYOffset||i.scrollTop)-(i.clientTop||0),left:t.left+(u.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}},scrollTop:function(e){return l(this,"top",e)},scrollLeft:function(e){return l(this,"left",e)}},function(t,n){if(!e.prototype[n])return e.prototype[n]=t})}}}]).run(["$log","$window","jqLiteExtras",function(e,t,n){"use strict";if(!t.jQuery)return n.registerFor(angular.element)}]),angular.module("ui.scroll",[]).directive("uiScrollViewport",["$log",function(){"use strict";return{controller:["$scope","$element",function(e,t){return this.viewport=t,this}]}}]).directive("uiScroll",["$log","$injector","$rootScope","$timeout",function(e,t,n,i){"use strict";return{require:["?^uiScrollViewport"],transclude:"element",priority:1e3,terminal:!0,compile:function(r,o,u){return function(r,o,a,l){var s,c,f,d,p,g,h,m,v,$,b,y,w,x,k,S,E,V,H,O,C,T,M,R,A,P,j,q,D,L,F,U,B,_,z,K,W,I,J,N,Y,Z,X,G,Q,ee,te,ne,ie;if(U=e.debug||e.log,B=a.uiScroll.match(/^\s*(\w+)\s+in\s+([\w\.]+)\s*$/),!B)throw new Error("Expected uiScroll in form of '_item_ in _datasource_' but got '"+a.uiScroll+"'");if(L=B[1],k=B[2],P=function(e,t){var n;if(e)return n=t.match(/^([\w]+)\.(.+)$/),n&&3===n.length?P(e[n[1]],n[2]):e[t]},Y=function(e,t,n,i){var r;if(e&&t&&((r=t.match(/^([\w]+)\.(.+)$/))||t.indexOf(".")===-1))return r&&3===r.length?(angular.isObject(e[r[1]])||i||(e[r[1]]={}),Y(e[r[1]],r[2],n,i)):angular.isObject(e[t])||i?e[t]=n:e[t]=n},x=P(r,k),D=function(){return angular.isObject(x)&&"function"==typeof x.get},!D()&&(x=t.get(k),!D()))throw new Error(""+k+" is not a valid datasource");return $=Math.max(3,+a.bufferSize||10),v=function(){return te.outerHeight()*Math.max(.1,+a.padding||.1)},N=function(e){var t;return null!=(t=e[0].scrollHeight)?t:e[0].document.documentElement.scrollHeight},b=null,u(r.$new(),function(e){var t,n,i,u,a,s;if(u=e[0].localName,"dl"===u)throw new Error("ui-scroll directive does not support <"+e[0].localName+"> as a repeating tag: "+e[0].outerHTML);return"li"!==u&&"tr"!==u&&(u="div"),s=l[0]&&l[0].viewport?l[0].viewport:angular.element(window),s.css({"overflow-y":"auto",display:"block"}),i=function(e){var t,n,i;switch(e){case"tr":return i=angular.element("<table><tr><td><div></div></td></tr></table>"),t=i.find("div"),n=i.find("tr"),n.paddingHeight=function(){return t.height.apply(t,arguments)},n;default:return n=angular.element("<"+e+"></"+e+">"),n.paddingHeight=n.height,n}},n=function(e,t,n){return t[{top:"before",bottom:"after"}[n]](e),{paddingHeight:function(){return e.paddingHeight.apply(e,arguments)},insert:function(t){return e[{top:"after",bottom:"before"}[n]](t)}}},a=n(i(u),o,"top"),t=n(i(u),o,"bottom"),r.$on("$destroy",e.remove),b={viewport:s,topPadding:a.paddingHeight,bottomPadding:t.paddingHeight,append:t.insert,prepend:a.insert,bottomDataPos:function(){return N(s)-t.paddingHeight()},topDataPos:function(){return a.paddingHeight()}}}),te=b.viewport,ne=te.scope()||n,Q=function(e){if(s.topVisible=e.scope[L],s.topVisibleElement=e.element,s.topVisibleScope=e.scope,a.topVisible&&Y(ne,a.topVisible,s.topVisible),a.topVisibleElement&&Y(ne,a.topVisibleElement,s.topVisibleElement),a.topVisibleScope&&Y(ne,a.topVisibleScope,s.topVisibleScope),"function"==typeof x.topVisible)return x.topVisible(e)},F=function(e){if(s.isLoading=e,a.isLoading&&Y(r,a.isLoading,e),"function"==typeof x.loading)return x.loading(e)},J=0,A=1,_=1,m=[],z=[],C=!1,g=!1,W=function(e,t){var n,i;for(n=i=e;e<=t?i<t:i>t;n=e<=t?++i:--i)m[n].scope.$destroy(),m[n].element.remove();return m.splice(e,t-e)},K=function(){return J++,A=1,_=1,W(0,m.length),b.topPadding(0),b.bottomPadding(0),z=[],C=!1,g=!1,f(J)},h=function(){return te.scrollTop()+te.outerHeight()},ee=function(){return te.scrollTop()},Z=function(){return!C&&b.bottomDataPos()<h()+v()},y=function(){var e,t,n,i,r,o,u,a,l,s;for(e=0,u=0,t=l=s=m.length-1;s<=0?l<=0:l>=0;t=s<=0?++l:--l)if(n=m[t],r=n.element.offset().top,o=a!==r,a=r,o&&(i=n.element.outerHeight(!0)),b.bottomDataPos()-e-i>h()+v())o&&(e+=i),u++,C=!1;else{if(o)break;u++}if(u>0)return b.bottomPadding(b.bottomPadding()+e),W(m.length-u,m.length),_-=u},X=function(){return!g&&b.topDataPos()>ee()-v()},w=function(){var e,t,n,i,r,o,u,a,l;for(u=0,r=0,a=0,l=m.length;a<l;a++)if(e=m[a],n=e.element.offset().top,i=o!==n,o=n,i&&(t=e.element.outerHeight(!0)),b.topDataPos()+u+t<ee()-v())i&&(u+=t),r++,g=!1;else{if(i)break;r++}if(r>0)return b.topPadding(b.topPadding()+u),W(0,r),A+=r},O=function(e,t){if(s.isLoading||F(!0),1===z.push(t))return M(e)},j=function(e){return e.displayTemp=e.css("display"),e.css("display","none")},G=function(e){if(e.hasOwnProperty("displayTemp"))return e.css("display",e.displayTemp)},q=function(e,t){var n,i,o;return n=r.$new(),n[L]=t,i=e>A,n.$index=e,i&&n.$index--,o={scope:n},u(n,function(t){return o.element=t,i?e===_?(j(t),b.append(t),m.push(o)):(m[e-A].element.after(t),m.splice(e-A+1,0,o)):(j(t),b.prepend(t),m.unshift(o))}),{appended:i,wrapper:o}},d=function(e,t){var n;return e?b.bottomPadding(Math.max(0,b.bottomPadding()-t.element.outerHeight(!0))):(n=b.topPadding()-t.element.outerHeight(!0),n>=0?b.topPadding(n):te.scrollTop(te.scrollTop()+t.element.outerHeight(!0)))},S=function(e,t){var n,i,r,o,u,a,l,s,c;if(Z()?O(e,!0):X()&&O(e,!1),t&&t(e),0===z.length){for(a=0,c=[],l=0,s=m.length;l<s;l++){if(n=m[l],r=n.element.offset().top,o=u!==r,u=r,o&&(i=n.element.outerHeight(!0)),!(o&&b.topDataPos()+a+i<ee())){o&&Q(n);break}c.push(a+=i)}return c}},f=function(e,t,n){return t&&t.length?i(function(){var i,r,o,u,a,l,s,c,f;for(a=[],l=0,c=t.length;l<c;l++)o=t[l],i=o.wrapper.element,G(i),r=i.offset().top,u!==r&&(a.push(o),u=r);for(s=0,f=a.length;s<f;s++)o=a[s],d(o.appended,o.wrapper);return S(e,n)}):S(e,n)},R=function(e,t){return f(e,t,function(){return z.shift(),0===z.length?F(!1):M(e)})},M=function(e){var t;return t=z[0],t?m.length&&!Z()?R(e):x.get(_,$,function(t){var n,i,o,u;if(!(e&&e!==J||r.$$destroyed)){if(i=[],t.length<$&&(C=!0,b.bottomPadding(0)),t.length>0)for(w(),o=0,u=t.length;o<u;o++)n=t[o],i.push(q(++_,n));return R(e,i)}}):m.length&&!X()?R(e):x.get(A-$,$,function(t){var n,i,o,u;if(!(e&&e!==J||r.$$destroyed)){if(i=[],t.length<$&&(g=!0,b.topPadding(0)),t.length>0)for(m.length&&y(),n=o=u=t.length-1;u<=0?o<=0:o>=0;n=u<=0?++o:--o)i.unshift(q(--A,t[n]));return R(e,i)}})},I=function(){if(!n.$$phase&&!s.isLoading)return f(),r.$apply()},ie=function(e){var t,n;if(t=te[0].scrollTop,n=te[0].scrollHeight-te[0].clientHeight,0===t&&!g||t===n&&!C)return e.preventDefault()},te.bind("resize",I),te.bind("scroll",I),te.bind("mousewheel",ie),r.$watch(x.revision,K),T=x.scope?x.scope.$new():r.$new(),r.$on("$destroy",function(){var e,t,n;for(t=0,n=m.length;t<n;t++)e=m[t],e.scope.$destroy(),e.element.remove();return te.unbind("resize",I),te.unbind("scroll",I),te.unbind("mousewheel",ie)}),s={},s.isLoading=!1,p=function(e,t){var n,i,r,o,u,a,l,s,c,f,d,p;if(i=[],angular.isArray(t))if(t.length){if(1===t.length&&t[0]===e.scope[L])return i;for(o=e.scope.$index,a=o>A?o-A:1,n=l=0,f=t.length;l<f;n=++l)u=t[n],i.push(q(o+n,u));for(W(a,a+1),n=s=0,d=m.length;s<d;n=++s)r=m[n],r.scope.$index=A+n}else for(W(e.scope.$index-A,e.scope.$index-A+1),_--,n=c=0,p=m.length;c<p;n=++c)r=m[n],r.scope.$index=A+n;return i},s.applyUpdates=function(e,t){var n,i,r,o,u,a;if(n=[],J++,angular.isFunction(e))for(u=m.slice(0),r=0,o=u.length;r<o;r++)i=u[r],n.concat(n,p(i,e(i.scope[L],i.scope,i.element)));else{if(e%1!==0)throw new Error("applyUpdates - "+e+" is not a valid index or outside of range");0<=(a=e-A-1)&&a<m.length&&(n=p(m[e-A],t))}return f(J,n)},a.adapter&&(c=P(r,a.adapter),c||(Y(r,a.adapter,{}),c=P(r,a.adapter)),angular.extend(c,s),s=c),H=function(e,t){var n,i,r,o,u;if(angular.isFunction(e))for(i=function(t){return e(t.scope)},r=0,o=m.length;r<o;r++)n=m[r],i(n);else 0<=(u=e-A-1)&&u<m.length&&(m[e-A-1].scope[L]=t);return null},E=function(e){var t,n,i,r,o,u,a,l,s,c,d,p;if(angular.isFunction(e)){for(i=[],u=0,s=m.length;u<s;u++)n=m[u],i.unshift(n);for(o=function(n){if(e(n.scope))return W(i.length-1-t,i.length-t),_--},t=a=0,c=i.length;a<c;t=++a)r=i[t],o(r)}else 0<=(p=e-A-1)&&p<m.length&&(W(e-A-1,e-A),_--);for(t=l=0,d=m.length;l<d;t=++l)n=m[t],n.scope.$index=A+t;return f()},V=function(e,t){var n,i,r,o,u;if(i=[],angular.isFunction(e))throw new Error("not implemented - Insert with locator function");for(0<=(u=e-A-1)&&u<m.length&&(i.push(q(e,t)),_++),n=r=0,o=m.length;r<o;n=++r)t=m[n],t.scope.$index=A+n;return f(null,i)},T.$on("insert.item",function(e,t,n){return V(t,n)}),T.$on("update.items",function(e,t,n){return H(t,n)}),T.$on("delete.items",function(e,t){return E(t)})}}}}]),angular.module("ui.scrollfix",[]).directive("uiScrollfix",["$window",function(e){"use strict";function t(){if(angular.isDefined(e.pageYOffset))return e.pageYOffset;var t=document.compatMode&&"BackCompat"!==document.compatMode?document.documentElement:document.body;return t.scrollTop}return{require:"^?uiScrollfixTarget",link:function(n,i,r,o){function u(){var e=l?r.uiScrollfix:i[0].offsetTop+s,n=o?c[0].scrollTop:t();!i.hasClass("ui-scrollfix")&&n>e?(i.addClass("ui-scrollfix"),a=e):i.hasClass("ui-scrollfix")&&n<a&&i.removeClass("ui-scrollfix")}var a,l=!0,s=0,c=o&&o.$element||angular.element(e);r.uiScrollfix?"string"==typeof r.uiScrollfix&&("-"===r.uiScrollfix.charAt(0)?(l=!1,s=-parseFloat(r.uiScrollfix.substr(1))):"+"===r.uiScrollfix.charAt(0)&&(l=!1,s=parseFloat(r.uiScrollfix.substr(1)))):l=!1,a=l?r.uiScrollfix:i[0].offsetTop+s,c.on("scroll",u),n.$on("$destroy",function(){c.off("scroll",u)})}}}]).directive("uiScrollfixTarget",[function(){"use strict";return{controller:["$element",function(e){this.$element=e}]}}]),angular.module("ui.showhide",[]).directive("uiShow",[function(){"use strict";return function(e,t,n){e.$watch(n.uiShow,function(e){e?t.addClass("ui-show"):t.removeClass("ui-show")})}}]).directive("uiHide",[function(){"use strict";return function(e,t,n){e.$watch(n.uiHide,function(e){e?t.addClass("ui-hide"):t.removeClass("ui-hide")})}}]).directive("uiToggle",[function(){"use strict";return function(e,t,n){e.$watch(n.uiToggle,function(e){e?t.removeClass("ui-hide").addClass("ui-show"):t.removeClass("ui-show").addClass("ui-hide")})}}]),angular.module("ui.unique",[]).filter("unique",["$parse",function(e){"use strict";return function(t,n){if(n===!1)return t;if((n||angular.isUndefined(n))&&angular.isArray(t)){var i=[],r=angular.isString(n)?e(n):function(e){return e},o=function(e){return angular.isObject(e)?r(e):e};angular.forEach(t,function(e){for(var t=!1,n=0;n<i.length;n++)if(angular.equals(o(i[n]),o(e))){t=!0;break}t||i.push(e)}),t=i}return t}}]),angular.module("ui.uploader",[]).service("uiUploader",uiUploader),uiUploader.$inject=["$log"],angular.module("ui.validate",[]).directive("uiValidate",function(){"use strict";return{restrict:"A",require:"ngModel",link:function(e,t,n,i){function r(t){return angular.isString(t)?void e.$watch(t,function(){angular.forEach(u,function(e){e(i.$modelValue)})}):angular.isArray(t)?void angular.forEach(t,function(t){e.$watch(t,function(){angular.forEach(u,function(e){e(i.$modelValue)})})}):void(angular.isObject(t)&&angular.forEach(t,function(t,n){angular.isString(t)&&e.$watch(t,function(){u[n](i.$modelValue)}),angular.isArray(t)&&angular.forEach(t,function(t){e.$watch(t,function(){u[n](i.$modelValue)})})}))}var o,u={},a=e.$eval(n.uiValidate);a&&(angular.isString(a)&&(a={validator:a}),angular.forEach(a,function(t,n){o=function(r){var o=e.$eval(t,{$value:r});return angular.isObject(o)&&angular.isFunction(o.then)?(o.then(function(){i.$setValidity(n,!0)},function(){i.$setValidity(n,!1)}),r):o?(i.$setValidity(n,!0),r):(i.$setValidity(n,!1),r)},u[n]=o,i.$formatters.push(o),i.$parsers.push(o)}),n.uiValidateWatch&&r(e.$eval(n.uiValidateWatch)))}}}),angular.module("ui.utils",["ui.event","ui.format","ui.highlight","ui.include","ui.indeterminate","ui.inflector","ui.jq","ui.keypress","ui.mask","ui.reset","ui.route","ui.scrollfix","ui.scroll","ui.scroll.jqlite","ui.showhide","ui.unique","ui.validate"]);