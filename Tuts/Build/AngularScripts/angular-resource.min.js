!function(e,r){"use strict";function t(e,t){t=t||{},r.forEach(t,function(e,r){delete t[r]});for(var a in e)!e.hasOwnProperty(a)||"$"===a.charAt(0)&&"$"===a.charAt(1)||(t[a]=e[a]);return t}var a=r.$$minErr("$resource"),n=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;r.module("ngResource",["ng"]).provider("$resource",function(){var e=/^https?:\/\/[^\/]*/,s=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(o,i,c,l){function u(e,r){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,r?"%20":"+")}function p(e,r){this.template=e,this.defaults=m({},s.defaults,r),this.urlParams={}}function f(e,u,v,y){function b(e,t){var s={};return t=m({},u,t),h(t,function(t,o){g(t)&&(t=t(e));var i;if(t&&t.charAt&&"@"==t.charAt(0)){i=e;var c=t.substr(1);if(null==c||""===c||"hasOwnProperty"===c||!n.test("."+c))throw a("badmember",c);for(var c=c.split("."),l=0,u=c.length;l<u&&r.isDefined(i);l++){var p=c[l];i=null!==i?i[p]:void 0}}else i=t;s[o]=i}),s}function w(e){return e.resource}function A(e){t(e||{},this)}var P=new p(e,y);return v=m({},s.defaults.actions,v),A.prototype.toJSON=function(){var e=m({},this);return delete e.$promise,delete e.$resolved,e},h(v,function(e,n){var u=/^(POST|PUT|PATCH)$/i.test(e.method),p=e.timeout,f=r.isDefined(e.cancellable)?e.cancellable:y&&r.isDefined(y.cancellable)?y.cancellable:s.defaults.cancellable;p&&!r.isNumber(p)&&(i.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete e.timeout,p=null),A[n]=function(s,i,v,y){var E,T,R,O={};switch(arguments.length){case 4:R=y,T=v;case 3:case 2:if(!g(i)){O=s,E=i,T=v;break}if(g(s)){T=s,R=i;break}T=i,R=v;case 1:g(s)?T=s:u?E=s:O=s;break;case 0:break;default:throw a("badargs",arguments.length)}var D,q,k=this instanceof A,x=k?E:e.isArray?[]:new A(E),S={},W=e.interceptor&&e.interceptor.response||w,j=e.interceptor&&e.interceptor.responseError||void 0;return h(e,function(e,r){switch(r){default:S[r]=$(e);case"params":case"isArray":case"interceptor":case"cancellable":}}),!k&&f&&(D=c.defer(),S.timeout=D.promise,p&&(q=l(D.resolve,p))),u&&(S.data=E),P.setUrlParams(S,m({},b(E,e.params||{}),O),e.url),O=o(S).then(function(s){var o=s.data;if(o){if(r.isArray(o)!==!!e.isArray)throw a("badcfg",n,e.isArray?"array":"object",r.isArray(o)?"array":"object",S.method,S.url);if(e.isArray)x.length=0,h(o,function(e){"object"==typeof e?x.push(new A(e)):x.push(e)});else{var i=x.$promise;t(o,x),x.$promise=i}}return s.resource=x,s},function(e){return(R||d)(e),c.reject(e)}),O["finally"](function(){x.$resolved=!0,!k&&f&&(x.$cancelRequest=r.noop,l.cancel(q),D=q=S.timeout=null)}),O=O.then(function(e){var r=W(e);return(T||d)(r,e.headers),r},j),k?O:(x.$promise=O,x.$resolved=!1,f&&(x.$cancelRequest=D.resolve),x)},A.prototype["$"+n]=function(e,r,t){return g(e)&&(t=r,r=e,e={}),e=A[n].call(this,e,this,r,t),e.$promise||e}}),A.bind=function(r){return f(e,m({},u,r),v)},A}var d=r.noop,h=r.forEach,m=r.extend,$=r.copy,g=r.isFunction;return p.prototype={setUrlParams:function(t,n,s){var o,i,c=this,l=s||c.template,p="",f=c.urlParams={};h(l.split(/\W/),function(e){if("hasOwnProperty"===e)throw a("badname");!/^\d+$/.test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(l)&&(f[e]={isQueryParamValue:new RegExp("\\?.*=:"+e+"(?:\\W|$)").test(l)})}),l=l.replace(/\\:/g,":"),l=l.replace(e,function(e){return p=e,""}),n=n||{},h(c.urlParams,function(e,t){o=n.hasOwnProperty(t)?n[t]:c.defaults[t],r.isDefined(o)&&null!==o?(i=e.isQueryParamValue?u(o,!0):u(o,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+"),l=l.replace(new RegExp(":"+t+"(\\W|$)","g"),function(e,r){return i+r})):l=l.replace(new RegExp("(/?):"+t+"(\\W|$)","g"),function(e,r,t){return"/"==t.charAt(0)?t:r+t})}),c.defaults.stripTrailingSlashes&&(l=l.replace(/\/+$/,"")||"/"),l=l.replace(/\/\.(?=\w+($|\?))/,"."),t.url=p+l.replace(/\/\\\./,"/."),h(n,function(e,r){c.urlParams[r]||(t.params=t.params||{},t.params[r]=e)})}},f}]})}(window,window.angular);