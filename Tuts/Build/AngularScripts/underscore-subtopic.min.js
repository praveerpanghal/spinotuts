!function(n){var i={},r=function(n,r,e){for(var u=n.split("/");u[0];){if(i[n]){var o=i[n],s=o.length-1;for(s;s>=0;s-=1)o[s].apply(e||this,r||[])}u.pop(),n=u.join("/")}},e=function(n,r){return i[n]||(i[n]=[]),i[n].push(r),[n,r]},u=function(n,r){var e=n[0],u=i[e].length-1;if(i[e])for(u;u>=0;u-=1)i[e][u]===n[1]&&(i[e].splice(i[e][u],1),r&&delete i[e])};n.publish=r,n.subscribe=e,n.unsubscribe=u}(underscore);