app.service("authorizationService",["$resource","$q","$rootScope","$location","permissionService","EncodeService","$http",function(e,t,i,r,o,n,s){this.permissionCheck=function(e){var i=new Object;i.title=e.page_title,i.description=e.meta_description,s({url:"/sendinfo",method:"POST",data:i}).then(function(e){});var r=1,o=0,a=!1,c=t.defer();if(sessionStorage.UserInfo){var u=JSON.parse(n.encodelogval(sessionStorage.UserInfo));o=u.UserRightsId,a=!0,this.getPermission("true",a,r,e,o,c)}else this.getPermission("false",a,r,e,o,c);return c.promise},this.getPermission=function(e,t,i,o,n,s){var a=o.navigation_url.split("/")[0],c="";c=i==o.user_rights_id||!(!e||!t)&&("username"==a||(n<o.user_rights_id&&"post-content"==a&&n!=i||n==o.user_rights_id)),c?(document.title=o.page_title,document.querySelector('meta[name="description"]').setAttribute("content",o.meta_description),s.resolve()):(r.path("/home"),s.resolve())}}]),app.run(["$route","$http","$rootScope","authorizationService","permissionService",function(e,t,i,r,o){i.images={},i.title="",i.description="",i.update=function(){t({url:"/GetJsonList"}).then(function(e){})},i.demoroute=function(){o.title_value().then(function(t){var i=t.data.GetRouteListResult;i.forEach(function(e,t){var i="/"+e.navigation_url;$routeProviderReference.when(i,{templateUrl:"partials/"+e.template_name,controller:e.controller_name,controllerAs:"vm",resolve:{permission:["authorizationService",function(t){return t.permissionCheck(e)}]}}).otherwise({redirectTo:"/"})}),e.reload()})},i.demoroute()}]);var $routeProviderReference;app.config(["$routeProvider","$locationProvider","$provide",function(e,t,i){$routeProviderReference=e,e.caseInsensitiveMatch=!0,t.html5Mode(!0)}]),app.service("permissionService",["$http","$q","myAppURLs",function(e,t,i){this.title_value=function(){var r=t.defer(),o={};e.get(i.GetRouteList).then(function(e){o=e.data.GetRouteListResult,r.resolve(e)});return r.promise}}]);