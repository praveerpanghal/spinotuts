app.service("authorizationService",["$resource","$q","$rootScope","$location","permissionService","EncodeService","$http",function(e,t,i,o,r,n,s){this.permissionCheck=function(e){var i=new Object;i.title=e.page_title,i.description=e.meta_description,s({url:"/sendinfo",method:"POST",data:i}).then(function(e){setTimeout(function(){var e=$(document).width();e<=1e3&&$("#bs-example-navbar-collapse-11").removeClass("in"),$(".flyout-content").css("display","block")},1e3)});var o=1,r=0,a=!1,c=t.defer();if(sessionStorage.UserInfo){var u=JSON.parse(n.encodelogval(sessionStorage.UserInfo));r=u.UserRightsId,a=!0,this.getPermission("true",a,o,e,r,c)}else this.getPermission("false",a,o,e,r,c);return c.promise},this.getPermission=function(e,t,i,r,n,s){var a=r.navigation_url.split("/")[0],c="";c=i==r.user_rights_id||!(!e||!t)&&("username"==a||(n<r.user_rights_id&&"post-content"==a&&n!=i||n==r.user_rights_id)),c?(document.title=r.page_title,document.querySelector('meta[name="description"]').setAttribute("content",r.meta_description),s.resolve()):(o.path("/home"),s.resolve())}}]),app.run(["$route","$http","$rootScope","authorizationService","permissionService",function(e,t,i,o,r){i.images={},i.title="",i.description="",i.update=function(){t({url:"/GetJsonList"}).then(function(e){})},i.demoroute=function(){r.title_value().then(function(t){var i=t.data.GetRouteListResult;i.forEach(function(e,t){var i="/"+e.navigation_url;$routeProviderReference.when(i,{templateUrl:"partials/"+e.template_name,controller:e.controller_name,controllerAs:"vm",resolve:{permission:["authorizationService",function(t){return t.permissionCheck(e)}]}}).otherwise({redirectTo:"/"})}),e.reload()})},i.demoroute()}]);var $routeProviderReference;app.config(["$routeProvider","$locationProvider","$provide",function(e,t,i){$routeProviderReference=e,e.caseInsensitiveMatch=!0,t.html5Mode(!0)}]),app.service("permissionService",["$http","$q","myAppURLs",function(e,t,i){this.title_value=function(){var o=t.defer(),r={};e.get(i.GetRouteList).then(function(e){r=e.data.GetRouteListResult,o.resolve(e)});return o.promise}}]);