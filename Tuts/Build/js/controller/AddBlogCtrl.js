app.controller("AddBlogCtrl",["$route","JsonDataService","myAppURLs","$filter","EncodeService","httpCall","$log","$sce",function(o,t,e,l,s,i,n,r){var u=this,a=t.GetJsonInfo(o.current.templateUrl);i.GetMethod(a).then(function(o){u.JsonVals=o},function(o){n.info(o)}),u.menu=[["bold","italic","underline","strikethrough","subscript","superscript"],["format-block"],["font"],["font-size"],["font-color","hilite-color"],["remove-format"],["ordered-list","unordered-list","outdent","indent"],["left-justify","center-justify","right-justify"],["code","quote","paragraph"],["css-class"]],u.to_trusted=function(o){return r.trustAsHtml(o)};var d=JSON.parse(s.encodelogval(sessionStorage.UserInfo));u.loaddata=function(){var o=new Object;o.user_id=d.UserId;var t=e.GetMyBlog;i.PostMethod(t,o).then(function(o){u.Blogs=o.GetMyBlogResult},function(o){n.info(o)})},u.loaddata(),u.successmessage="",u.sub_but=!0,u.cls_but=!0,u.update_but=!1,u.add_but=!1,u.edit_but=!1,u.del_but=!1,u.isClicked=!1,u.submit_blog=function(o){u.isClicked=!0;var t=new Object;t.UserId=d.UserId,t.blog_title=o.blog_title,t.alias_url=o.alias_url,t.blog_description=o.description;var l=e.PostBlog;i.PostMethod(l,t).then(function(o){var t=o.split(","),e=t[1];null!=e&&(u.blogpost.blog_id=e),u.successmessage=t[0],u.loaddata(),$rootScope.demoroute(),$rootScope.update()},function(o){n.info(o)})},u.update_info=function(o){u.isClicked=!1,u.successmessage="",u.blogpost=[],u.add_but=!0,u.update_but=!0,u.del_but=!0,u.sub_but=!1,u.isClicked=!1,u.blogpost.blog_id=o.blog_id,u.blogpost.blog_title=o.blog_title,u.blogpost.alias_url=o.alias_url,u.blogpost.description=o.blog_description},u.update_blog=function(o,t){var l=new Object;l.UserId=d.UserId,l.blog_id=o.blog_id,l.blog_title=o.blog_title,l.alias_url=o.alias_url,l.blog_description=o.description,l.flag=t,u.isClicked=!0;var s=e.ModifyMyBlog;i.PostMethod(s,l).then(function(o){u.successmessage=o,u.loaddata()},function(o){n.info(o)})},u.copyTText=function(o){u.blogpost.alias_url=l("lowercase")(o).replace(/ +(?=)/g,"-")},u.reload=function(){u.blogpost.blog_id="",u.blogpost.blog_title="",u.blogpost.alias_url="",u.blogpost.description=""},u.open=function(o){u.BlogInfo=u.Blogs.filter(function(t){return t.blog_id==o}),u.BlogInfo=u.BlogInfo[0],console.log(u.BlogInfo.blog_description)}}]);