app.controller("AddBlogCtrl",["$route","JsonDataService","myAppURLs","$filter","EncodeService","httpCall",function(o,t,l,e,s,i){var n=this,r=t.GetJsonInfo(o.current.templateUrl);i.GetMethod(r).then(function(o){n.JsonVals=o},function(o){$log.info(o)}),n.menu=[["bold","italic","underline","strikethrough","subscript","superscript"],["format-block"],["font"],["font-size"],["font-color","hilite-color"],["remove-format"],["ordered-list","unordered-list","outdent","indent"],["left-justify","center-justify","right-justify"],["code","quote","paragraph"],["css-class"]];var a=JSON.parse(s.encodelogval(sessionStorage.UserInfo));n.loaddata=function(){var o=new Object;o.user_id=a.UserId;var t=l.GetMyBlog;i.PostMethod(t,o).then(function(o){n.Blogs=o.GetMyBlogResult},function(o){$log.info(o)})},n.loaddata(),n.successmessage="",n.sub_but=!0,n.cls_but=!0,n.update_but=!1,n.add_but=!1,n.edit_but=!1,n.del_but=!1,n.isClicked=!1,n.submit_blog=function(o){n.isClicked=!0;var t=new Object;t.UserId=a.UserId,t.blog_title=o.blog_title,t.alias_url=o.alias_url,t.blog_description=o.description;var e=l.PostBlog;i.PostMethod(e,t).then(function(o){var t=o.split(","),l=t[1];null!=l&&(n.blogpost.blog_id=l),n.successmessage=t[0],n.loaddata()},function(o){$log.info(o)})},n.update_info=function(o){n.isClicked=!1,n.successmessage="",n.blogpost=[],n.add_but=!0,n.update_but=!0,n.del_but=!0,n.sub_but=!1,n.isClicked=!1,n.blogpost.blog_id=o.blog_id,n.blogpost.blog_title=o.blog_title,n.blogpost.alias_url=o.alias_url,n.blogpost.description=o.blog_description},n.update_blog=function(o,t){var e=new Object;e.UserId=a.UserId,e.blog_id=o.blog_id,e.blog_title=o.blog_title,e.alias_url=o.alias_url,e.blog_description=o.description,e.flag=t,n.isClicked=!0;var s=l.ModifyMyBlog;i.PostMethod(s,e).then(function(o){n.successmessage=o,n.loaddata()},function(o){$log.info(o)})},n.copyTText=function(o){n.blogpost.alias_url=e("lowercase")(o).replace(/ +(?=)/g,"-")},n.reload=function(){n.blogpost.blog_id="",n.blogpost.blog_title="",n.blogpost.alias_url="",n.blogpost.description=""},n.open=function(o){n.BlogInfo=n.Blogs.filter(function(t){return t.blog_id==o}),n.BlogInfo=n.BlogInfo[0]}}]);