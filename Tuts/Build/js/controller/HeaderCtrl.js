app.controller("HeaderCtrl",["$http","myAppURLs","$log","CatService","EncodeService","httpCall","$rootScope",function(e,a,o,s,t,n,i){var p=this;p.isLoggedIn=!1,i.$on("CallParentMethod",function(){p.loaddata()}),p.loaddata=function(){if(sessionStorage.UserInfo){var e=JSON.parse(t.encodelogval(sessionStorage.UserInfo));p.isLoggedIn=!0,p.uinfo=e.UserId;var r={userid:p.uinfo},l=a.AuthorizedMenu;n.PostMethod(l,r).then(function(e){if(""!==e.AuthorizedMenuResult){p.PostDataResponse=JSON.parse(e.AuthorizedMenuResult),p.topnav=p.PostDataResponse[0].topNav,p.menu=p.PostDataResponse[0].mainNav,i.images.headerLogo=p.PostDataResponse[0].headerLogo,i.images.footerLogo=p.PostDataResponse[0].footerLogo,i.images.spinoLogo=p.PostDataResponse[0].spinoLogo,i.images.banner=p.PostDataResponse[0].banner;var a=(p.PostDataResponse[0].mainNav,p.PostDataResponse[0].loggedUser),t=p.PostDataResponse[0].profile_pic;$(function(){$("#bs-example-navbar-collapse-1 li a").each(function(){var e=$(this).text();$(this).text(e.replace("Username",a))}),$(".headnavimg").css({lineHeight:"25px",padding:"5px"}),t?$(".headnavimg").prepend('<span class="userWizard"><img id="theImg" src='+t+" /></span>"):$(".headnavimg").prepend('<span class="userWizard"><img id="theImg" src="../images/profileimg.png" /></span>'),p.code()}),s.update(p.PostDataResponse[0].mainNav[0].childList)}else o.info(r)},function(e){o.info(e)})}else{var l=a.GeneralMenu;n.GetMethod(l).then(function(e){""!==e.GeneralMenuResult?(p.PostDataResponse=JSON.parse(e.GeneralMenuResult),p.topnav=p.PostDataResponse[0].topNav,p.topnav=$.grep(p.topnav,function(e){return 24!=e.H_menu_id}),p.menu=p.PostDataResponse[0].mainNav,i.images.headerLogo=p.PostDataResponse[0].headerLogo,i.images.footerLogo=p.PostDataResponse[0].footerLogo,i.images.spinoLogo=p.PostDataResponse[0].spinoLogo,i.images.banner=p.PostDataResponse[0].banner,$(function(){p.code()}),s.update(p.PostDataResponse[0].mainNav[0].childList)):o.info(e)},function(e){o.info(e)})}},p.loaddata(),p.code=function(){$(window).width()<=1e3&&($("#bs-example-navbar-collapse-1 li").click(function(){$(this).attr("data-toggle","collapse"),$(this).attr("data-target","#bs-example-navbar-collapse-1")}),$("#bs-example-navbar-collapse-11 li").click(function(){$(this).attr("data-toggle","collapse"),$(this).attr("data-target","#bs-example-navbar-collapse-11")}))}}]);